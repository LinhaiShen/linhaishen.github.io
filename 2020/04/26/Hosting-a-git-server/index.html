<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hosting a GIT server | LinhaiShen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Install git on the serversee detail steps here">
<meta property="og:type" content="article">
<meta property="og:title" content="Hosting a GIT server">
<meta property="og:url" content="http://linhaishen.github.io/2020/04/26/Hosting-a-git-server/index.html">
<meta property="og:site_name" content="LinhaiShen">
<meta property="og:description" content="Install git on the serversee detail steps here">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-04-26T01:50:00.000Z">
<meta property="article:modified_time" content="2025-09-26T01:26:04.023Z">
<meta property="article:author" content="Linhai Shen">
<meta property="article:tag" content="authorization">
<meta property="article:tag" content="additionals">
<meta property="article:tag" content="git">
<meta property="article:tag" content="server">
<meta property="article:tag" content="host">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LinhaiShen</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">To Learn,To Build.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/resume/">Resume</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://linhaishen.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Hosting-a-git-server" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/04/26/Hosting-a-git-server/" class="article-date">
  <time class="dt-published" datetime="2020-04-26T01:50:00.000Z" itemprop="datePublished">2020-04-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/git/">git</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Hosting a GIT server
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ol>
<li>Install git on the server<br>see detail steps <a href="https://linhaishen.github.io/2020/03/19/Install-latest-git-on-centos-from-source-code/">here</a> <a id="more"></a></li>
<li>First, you create a git user account and a .ssh directory for that user.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo adduser git</span><br><span class="line">$ su git</span><br><span class="line">$ cd</span><br><span class="line">$ mkdir .ssh &amp;&amp; chmod 700 .ssh</span><br><span class="line">$ touch .ssh&#x2F;authorized_keys &amp;&amp; chmod 600 .ssh&#x2F;authorized_keys</span><br></pre></td></tr></table></figure>
Next, you need to add some developer SSH public keys to the authorized_keys file for the git user. Let’s assume you have some trusted public keys and have saved them to temporary files.<br>You just append them to the git user’s authorized_keys file in its .ssh directory:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cat &#x2F;tmp&#x2F;id_rsa.john.pub &gt;&gt; ~&#x2F;.ssh&#x2F;authorized_keys</span><br><span class="line">$ cat &#x2F;tmp&#x2F;id_rsa.josie.pub &gt;&gt; ~&#x2F;.ssh&#x2F;authorized_keys</span><br><span class="line">$ cat &#x2F;tmp&#x2F;id_rsa.jessica.pub &gt;&gt; ~&#x2F;.ssh&#x2F;authorized_keys</span><br></pre></td></tr></table></figure></li>
<li>Now, you can set up an empty repository for them by running git init with the –bare option, which initializes the repository without a working directory:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ cd</span><br><span class="line">$ mkdir repo1</span><br><span class="line">$ cd repo1</span><br><span class="line">$ git init --bare</span><br><span class="line">Initialized empty Git repository in &#x2F;home&#x2F;git&#x2F;repo1&#x2F;</span><br></pre></td></tr></table></figure></li>
<li>Then, John, Josie, or Jessica can push the first version of their project into that repository by adding it as a remote and pushing up a branch. Note that someone must shell onto the machine and create a bare repository every time you want to add a project. Let’s use gitserver as the hostname of the server on which you’ve set up your git user and repository. If you’re running it internally, and you set up DNS for gitserver to point to that server, then you can use the commands pretty much as is (assuming that myproject is an existing project with files in it):<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># on John&#39;s computer</span><br><span class="line">$ mkdir repo1</span><br><span class="line">$ git init</span><br><span class="line">$ touch file1.md</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m &#39;Initial commit&#39;</span><br><span class="line">$ git remote add origin git@server.domain.name:&#x2F;home&#x2F;git&#x2F;repo1</span><br><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure>
It’s done.</li>
</ol>
<p>Reference from:</p>
<ol>
<li><a href="https://git-scm.com/book/en/v2/Git-on-the-Server-Setting-Up-the-Server" target="_blank" rel="noopener">https://git-scm.com/book/en/v2/Git-on-the-Server-Setting-Up-the-Server</a></li>
<li><a href="https://www.linux.com/training-tutorials/how-run-your-own-git-server/" target="_blank" rel="noopener">https://www.linux.com/training-tutorials/how-run-your-own-git-server/</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://linhaishen.github.io/2020/04/26/Hosting-a-git-server/" data-id="cmg05v8yg000hnt3ifatp1j2x" data-title="Hosting a GIT server" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/additionals/" rel="tag">additionals</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authorization/" rel="tag">authorization</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/host/" rel="tag">host</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/server/" rel="tag">server</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/05/07/Telecom-ZXHN-F420-pw/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Telecom ZXHN F420 admin access
        
      </div>
    </a>
  
  
    <a href="/2020/04/24/Add-terms-of-use-to-redmine/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Add terms of use to redmine</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/discourse/">discourse</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/github/">github</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/logistics/">logistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/network/">network</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/rails/">rails</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/redmine/">redmine</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Bitnami/" style="font-size: 10px;">Bitnami</a> <a href="/tags/CI/" style="font-size: 12.5px;">CI</a> <a href="/tags/CentOS/" style="font-size: 10px;">CentOS</a> <a href="/tags/GS1/" style="font-size: 10px;">GS1</a> <a href="/tags/GithubActions/" style="font-size: 12.5px;">GithubActions</a> <a href="/tags/ImageMagick/" style="font-size: 10px;">ImageMagick</a> <a href="/tags/PullRequest/" style="font-size: 10px;">PullRequest</a> <a href="/tags/additionals/" style="font-size: 12.5px;">additionals</a> <a href="/tags/admin/" style="font-size: 10px;">admin</a> <a href="/tags/authorization/" style="font-size: 12.5px;">authorization</a> <a href="/tags/barcode/" style="font-size: 10px;">barcode</a> <a href="/tags/branch/" style="font-size: 10px;">branch</a> <a href="/tags/build/" style="font-size: 12.5px;">build</a> <a href="/tags/build-essential/" style="font-size: 10px;">build-essential</a> <a href="/tags/bundle/" style="font-size: 10px;">bundle</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/compile/" style="font-size: 12.5px;">compile</a> <a href="/tags/config/" style="font-size: 17.5px;">config</a> <a href="/tags/deploy/" style="font-size: 10px;">deploy</a> <a href="/tags/discourse/" style="font-size: 10px;">discourse</a> <a href="/tags/font/" style="font-size: 10px;">font</a> <a href="/tags/gem/" style="font-size: 12.5px;">gem</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/host/" style="font-size: 10px;">host</a> <a href="/tags/incoterms/" style="font-size: 10px;">incoterms</a> <a href="/tags/install/" style="font-size: 12.5px;">install</a> <a href="/tags/logistics/" style="font-size: 15px;">logistics</a> <a href="/tags/make/" style="font-size: 12.5px;">make</a> <a href="/tags/nokogiri/" style="font-size: 10px;">nokogiri</a> <a href="/tags/outlook-com/" style="font-size: 10px;">outlook.com</a> <a href="/tags/pallet/" style="font-size: 10px;">pallet</a> <a href="/tags/permission/" style="font-size: 10px;">permission</a> <a href="/tags/plugins/" style="font-size: 10px;">plugins</a> <a href="/tags/rack/" style="font-size: 10px;">rack</a> <a href="/tags/rails/" style="font-size: 12.5px;">rails</a> <a href="/tags/redmine/" style="font-size: 20px;">redmine</a> <a href="/tags/router/" style="font-size: 10px;">router</a> <a href="/tags/ruby/" style="font-size: 12.5px;">ruby</a> <a href="/tags/server/" style="font-size: 10px;">server</a> <a href="/tags/smtp/" style="font-size: 12.5px;">smtp</a> <a href="/tags/sqlite/" style="font-size: 10px;">sqlite</a> <a href="/tags/sqlite3/" style="font-size: 10px;">sqlite3</a> <a href="/tags/telecom/" style="font-size: 10px;">telecom</a> <a href="/tags/terms/" style="font-size: 10px;">terms</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a> <a href="/tags/warehouse/" style="font-size: 10px;">warehouse</a> <a href="/tags/yarn/" style="font-size: 10px;">yarn</a> <a href="/tags/zhongxing/" style="font-size: 10px;">zhongxing</a> <a href="/tags/zlib/" style="font-size: 10px;">zlib</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/01/21/Warehouse-Rack-Types/">Warehouse Rack Types</a>
          </li>
        
          <li>
            <a href="/2021/12/14/Generate-GS1-Barcode-with-Barby/">Generate GS1 Barcode with Barby</a>
          </li>
        
          <li>
            <a href="/2021/10/26/Fixing-github-actions-automerge-with-pull-request-target-event/">Fixing Github Actions automerge with pull_request_target event</a>
          </li>
        
          <li>
            <a href="/2021/10/24/Auto-deploy-hexo-with-github-actions/">Auto deploy hexo with github actions</a>
          </li>
        
          <li>
            <a href="/2020/09/09/Redmine-hide-issues-reports/">Hide redmine issues&#39; reposts for non-admin users</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 Linhai Shen<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/resume/" class="mobile-nav-link">Resume</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>